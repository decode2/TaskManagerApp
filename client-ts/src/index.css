@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .bg-light-animated-gradient {
    background-image: linear-gradient(270deg, #f8fafc, #f1f5f9, #e2e8f0, #cbd5e1);
    background-size: 400% 400%;
  }

  .bg-dark-animated-gradient {
    background-image: linear-gradient(270deg, #1e293b, #334155, #0f172a);
    background-size: 400% 400%;
  }

  @keyframes gradient-x {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient-x {
    animation: gradient-x 12s ease infinite;
  }
}


html, body {
  @apply min-h-screen text-slate-800 transition-colors duration-300 dark:bg-slate-900 dark:text-white;
}

.app-background {
  @apply min-h-screen text-slate-700 dark:text-white transition-colors duration-300 bg-cover bg-no-repeat;
  @apply bg-light-animated-gradient dark:bg-dark-animated-gradient;
}

/* Force dropdown to appear above everything */
.user-dropdown {
  z-index: 99999 !important;
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
  margin-top: 0.5rem !important;
}

/* Ensure react-calendar doesn't interfere */
.react-calendar {
  z-index: 1 !important;
  position: relative !important;
}

/* Enhanced button styles */
@layer components {
  /* Prevent text selection on non-text elements */
  .no-select {
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    -webkit-touch-callout: none !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  .btn-primary {
    @apply relative overflow-hidden;
  }
  
  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply translate-x-[-100%] transition-transform duration-700 ease-out;
  }
  
  .btn-primary:hover::before {
    @apply translate-x-[100%];
  }
  
  .btn-icon {
    @apply transition-transform duration-200;
  }
  
  .btn-icon:hover {
    @apply scale-110;
  }
  
  .btn-glow {
    @apply shadow-lg hover:shadow-xl;
    box-shadow: 0 4px 14px 0 rgba(0, 118, 255, 0.15);
  }
  
  .btn-glow:hover {
    box-shadow: 0 6px 20px 0 rgba(0, 118, 255, 0.25);
  }
}

/* Enhanced select dropdown behavior */
@layer components {
  .select-container {
    @apply relative;
  }
  
  .select-container:focus-within .motion-div {
    @apply scale-100;
  }
  
  .select-container:focus-within .hover-overlay {
    @apply opacity-0;
  }
  
  .select-focus-state {
    @apply bg-white dark:bg-slate-600 shadow-md border-blue-500/50;
  }
  
  /* Completely hide native select arrow */
  .custom-select {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    background-image: none !important;
  }
  
  .custom-select::-ms-expand {
    display: none !important;
  }
  
  .custom-select::-webkit-outer-spin-button,
  .custom-select::-webkit-inner-spin-button {
    -webkit-appearance: none !important;
    margin: 0 !important;
  }
}

/* Modal overlay with proper backdrop blur - COMPLETE REWRITE */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background-color: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  z-index: 99999 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  margin: 0 !important;
  overflow: hidden !important;
}

/* Ensure the modal content is properly centered */
.modal-content {
  position: relative !important;
  z-index: 100000 !important;
  margin: auto !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
}

/* Accessibility: Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .btn-primary::before {
    transition: none !important;
  }
  
  .btn-icon {
    transition: none !important;
  }
  
  .btn-icon:hover {
    transform: none !important;
  }
  
  .motion-div {
    transform: none !important;
  }
}